// Reset node
async function resetNode() {
  try {
    // Stop blockchain
    blockchain.stopMining();
    
    // Clear data
    blockchain.chain = [];
    blockchain.pendingTransactions = [];
    
    // Create genesis block
    const genesisBlock = blockchain.createGenesisBlock();
    blockchain.chain.push(genesisBlock);
    
    // Save to storage
    await blockchain.storage.saveChain(blockchain.chain);
    
    // Restart mining
    blockchain.startMining();
    
    console.log('Node reset to genesis state');
  } catch (error) {
    console.error(`Reset error: ${error.message}`);
  }
}

// Run reset
resetNode().catch(console.error);