// Optimize transaction processing
function optimizeTransactionProcessing() {
  const pendingCount = blockchain.pendingTransactions.length;
  
  // Adjust max transactions per block based on pending count
  if (pendingCount > 500) {
    blockchain.config.maxTransactionsPerBlock = 200;
  } else if (pendingCount > 200) {
    blockchain.config.maxTransactionsPerBlock = 100;
  } else {
    blockchain.config.maxTransactionsPerBlock = 50;
  }
  
  console.log(`Adjusted max transactions per block to ${blockchain.config.maxTransactionsPerBlock}`);
  
  // Adjust mining interval based on pending count
  if (pendingCount > 500) {
    blockchain.config.miningInterval = 5000; // 5 seconds
  } else if (pendingCount > 200) {
    blockchain.config.miningInterval = 10000; // 10 seconds
  } else {
    blockchain.config.miningInterval = 15000; // 15 seconds
  }
  
  console.log(`Adjusted mining interval to ${blockchain.config.miningInterval}ms`);
  
  // Restart mining with new settings
  blockchain.stopMining();
  blockchain.startMining();
}

// Run optimization every 5 minutes
setInterval(optimizeTransactionProcessing, 5 * 60 * 1000);